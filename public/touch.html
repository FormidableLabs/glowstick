<html>
  <head>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/thorax/2.0.0rc3/thorax.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/async/1.22/async.min.js"></script>
    <script src="board.js"></script>
    <script>
      $(function(){
        var randomColor = '#' + (function co(lor){   return (lor +=
          [0,1,2,3,4,5,6,7,8,9,'a','b','c','d','e','f'][Math.floor(Math.random()*16)])
          && (lor.length == 6) ?  lor : co(lor); })('');
        $('body').css({backgroundColor: randomColor})
        window.addEventListener("touchmove", _.throttle(function(event){
          event.preventDefault();
          _.each(event.touches, function(touch) {
            var x = Math.floor((touch.pageX / $(window).width()) * 8);
            var y = Math.floor((touch.pageY / $(window).height()) * 8);
            board.at(x, y).fade(randomColor, 'black', 1000);
          });
        }, 25));
      });

    </script>
    <style>
      body, html {
        padding:0;
        margin:0;
        overflow:hidden;
        width:100%;
        height:100%;
      }
    </style>
  </head>
  <body>
  </body>
</html>